# Humanistic JSON Formatter
A simple JavaScript program that formats JSON in a human-readable way. Uses a heuristic approach (no constaint optimization).

JSON is a human- and machine-readable data representation language. However, humans and machines make vastly different
spacing and wrapping decisions when writing it. I think this a high scale problem - there are many times when developers
in industry need to read large JSON objects (e.g. `az vm list-skus -l uswest --all`), and machine-formatted JSON is often
not optimal for human readability. 

For example, consider the following simple JSON definition.
```json
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
```

Most JSON prettifiers (e.g., VSCode) will print
```json
[
    1,
    2,
    3,
    [
        4,
        5,
        [
            6,
            7,
            8
        ]
    ],
    "9"
]
```

Humans write JSON in a more natural and readable way. For example:
```jsonc
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
```

```jsonc
[
    1, 2, 3,
    [4, 5, [6, 7, 8]],
    "9"
]
```

```jsonc
[
    1, 2, 3,
    [
        4, 5,
        [6, 7, 8]
    ],
    "9"
]
```


## Prior Art
I did some quick Google searching (e.g. "json prettifier site:*.github.io") and looked at a few other developers'
sites. None formatted the JSON the way I find optimal. I decided it would take an hour to write my own, so that's what I did.

## How it works
We use a simple heuristic that is good enough in most cases.
1. Compute tree containing length of each node (and its children) if they were printed on a single line.
2. Walking the tree, expand the top-most elements (closest to the root) first until every subtree fits
on a single line.

In general this is a constrained optimization problem depending on the metric to optimize
(# of lines, # of expansions, etc.). But our heuristic works well enough in practical cases.

## Object Example
```
----------------------------------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
--------------------------------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
------------------------------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
----------------------------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
--------------------------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
------------------------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
----------------------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
--------------------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
------------------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
----------------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
--------------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
------------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
----------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
--------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
------------------------------------------------------------------------
{"the quick brown fox": {"jumps": "over", "the lazy": ["d", "o", "g"]}}
----------------------------------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
--------------------------------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
------------------------------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
----------------------------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
--------------------------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
------------------------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
----------------------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
--------------------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
------------------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
----------------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
--------------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
------------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
----------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
--------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
------------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
----------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
--------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
------------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": ["d", "o", "g"]
    }
}
----------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": [
            "d", "o", "g"
        ]
    }
}
--------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": [
            "d", "o", "g"
        ]
    }
}
------------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": [
            "d", "o", "g"
        ]
    }
}
----------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": [
            "d", "o", "g"
        ]
    }
}
--------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": [
            "d",
            "o",
            "g"
        ]
    }
}
------------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": [
            "d",
            "o",
            "g"
        ]
    }
}
----------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": [
            "d",
            "o",
            "g"
        ]
    }
}
--------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": [
            "d",
            "o",
            "g"
        ]
    }
}
------------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": [
            "d",
            "o",
            "g"
        ]
    }
}
----------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": [
            "d",
            "o",
            "g"
        ]
    }
}
--------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": [
            "d",
            "o",
            "g"
        ]
    }
}
------------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": [
            "d",
            "o",
            "g"
        ]
    }
}
----------
{
    "the quick brown fox": {
        "jumps": "over",
        "the lazy": [
            "d",
            "o",
            "g"
        ]
    }
}
```

## Array Example
```
------------------------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
-----------------------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
----------------------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
---------------------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
--------------------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
-------------------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
------------------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
-----------------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
----------------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
---------------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
--------------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
-------------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
------------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
-----------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
----------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
---------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
--------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
-------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
------------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
-----------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
----------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
---------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
--------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
-------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
------------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
-----------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
----------------------------------
[1, 2, 3, [4, 5, [6, 7, 8]], "9"]
---------------------------------
[
    1,
    2,
    3,
    [4, 5, [6, 7, 8]],
    "9"
]
--------------------------------
[
    1,
    2,
    3,
    [4, 5, [6, 7, 8]],
    "9"
]
-------------------------------
[
    1,
    2,
    3,
    [4, 5, [6, 7, 8]],
    "9"
]
------------------------------
[
    1,
    2,
    3,
    [4, 5, [6, 7, 8]],
    "9"
]
-----------------------------
[
    1,
    2,
    3,
    [4, 5, [6, 7, 8]],
    "9"
]
----------------------------
[
    1,
    2,
    3,
    [4, 5, [6, 7, 8]],
    "9"
]
---------------------------
[
    1,
    2,
    3,
    [4, 5, [6, 7, 8]],
    "9"
]
--------------------------
[
    1,
    2,
    3,
    [4, 5, [6, 7, 8]],
    "9"
]
-------------------------
[
    1,
    2,
    3,
    [4, 5, [6, 7, 8]],
    "9"
]
------------------------
[
    1,
    2,
    3,
    [4, 5, [6, 7, 8]],
    "9"
]
-----------------------
[
    1,
    2,
    3,
    [4, 5, [6, 7, 8]],
    "9"
]
----------------------
[
    1,
    2,
    3,
    [4, 5, [6, 7, 8]],
    "9"
]
---------------------
[
    1,
    2,
    3,
    [
        4,
        5,
        [6, 7, 8]
    ],
    "9"
]
--------------------
[
    1,
    2,
    3,
    [
        4,
        5,
        [6, 7, 8]
    ],
    "9"
]
-------------------
[
    1,
    2,
    3,
    [
        4,
        5,
        [6, 7, 8]
    ],
    "9"
]
------------------
[
    1,
    2,
    3,
    [
        4,
        5,
        [6, 7, 8]
    ],
    "9"
]
-----------------
[
    1,
    2,
    3,
    [
        4,
        5,
        [
            6,
            7,
            8
        ]
    ],
    "9"
]
----------------
[
    1,
    2,
    3,
    [
        4,
        5,
        [
            6,
            7,
            8
        ]
    ],
    "9"
]
---------------
[
    1,
    2,
    3,
    [
        4,
        5,
        [
            6,
            7,
            8
        ]
    ],
    "9"
]
--------------
[
    1,
    2,
    3,
    [
        4,
        5,
        [
            6,
            7,
            8
        ]
    ],
    "9"
]
-------------
[
    1,
    2,
    3,
    [
        4,
        5,
        [
            6,
            7,
            8
        ]
    ],
    "9"
]
------------
[
    1,
    2,
    3,
    [
        4,
        5,
        [
            6,
            7,
            8
        ]
    ],
    "9"
]
-----------
[
    1,
    2,
    3,
    [
        4,
        5,
        [
            6,
            7,
            8
        ]
    ],
    "9"
]
----------
[
    1,
    2,
    3,
    [
        4,
        5,
        [
            6,
            7,
            8
        ]
    ],
    "9"
]
```

